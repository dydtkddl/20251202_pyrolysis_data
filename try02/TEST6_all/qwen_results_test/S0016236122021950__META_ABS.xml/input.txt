A study of coking mechanism based on the transformation of coal structure The mechanism of coal coking was investigated based on the structural transformation of coal matrix during thermoplasticity. The properties of structural units and fracture patterns of chemical bonds for different rank coals were evaluated by 13C NMR and TGA, and the thermoplasticity was characterized by Gieseler fluidity. The pyrolysis gases (CH4 and H2) were analyzed by a mass spectrometry. The components and molecular weight distributions of tars from coal pyrolysis at 500 °C were characterized by Gas Chromatography-Mass Spectrometer (GC–MS) and Gel Permeation Chromatography (GPC), respectively. The structural unit of coal matrix is constructed and classified as S (aliphatic-aliphatic), P (aliphatic–aromatic) and C (aromatic-aromatic) layers for the first time. The softening of coal matrix initiates with the cleavage of Cal-O/Cal from S layer, which contributes to the separation of molecular structural units. With increasing temperature, the Car-Cal- and Car-O- become the active sites where the aromatic fragments from P and C layers react with small molecular clusters to form fluid phase. The maximum fluidity temperature is related to dynamic balance between the aliphatic radicals (fal/far) and the aromatic substituents (δ and S.C.). Coals with structural parameters far B = 15–19 % and fal/far = 0.38–0.40 have potential to generate the 3–5 ring aromatic clusters which are essential in affecting the fluidity. The coking processes of coals with varying thermoplastic properties are revealed based on the experimental findings.